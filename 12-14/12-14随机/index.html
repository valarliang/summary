<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link href="css/index.css" rel="stylesheet" />
	</head>
	<body>
		<section id="wrap">
			<header id="head">
				<img src="img/logo.png"/>
				<div id="btn" class="clearfix">
					<span class="active">从小到大</span>
					<span>打乱顺序</span>
				</div>
			</header>
			<article id="cons">
				<ul class="list clearfix">
					<!-- <li><img src="img/Rdm-pic1.png" alt=""><p>1-粉红</p></li> -->
				</ul>
			</article>
		</section>
		<script src="./js/data.js"></script>
		<script>
			const list=document.querySelector('.list'),
				btn=document.querySelector('#btn'),
				btn1=btn.querySelector('span'),
				btn2=btn.querySelectorAll('span')[1];
			function load(data) {
				list.innerHTML=data.map(function (e,i) {
					return '<li><img src='+data[i].url+'><p>'+(i+1)+data[i].text.slice(1)+'</p></li>';
				}).join('');
			}
			load(data);
			let flag=1,
				dataCpy1=JSON.parse(JSON.stringify(data)).reverse(),
				dataCpy2=JSON.parse(JSON.stringify(data));
			btn1.onclick=function () {
				this.classList.add('active');
				btn2.classList.remove('active');
				if (flag) {
					this.innerText='从大到小';
					load(dataCpy1);
				}else{
					this.innerText='从小到大';
					load(data);
				}
				flag=!flag;
			}
			btn2.onclick=function () {
				this.classList.add('active');
				btn1.classList.remove('active');
				dataCpy2.sort(function () {
					return Math.random()-0.5;
				});
				load(dataCpy2);
			}
		</script>
	</body>
</html>
